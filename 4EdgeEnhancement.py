import cv2
import numpy as np
import matplotlib.pyplot as plt
image=cv2.imread('north pole.png',0)
laplacian1=np.array([[0,1,0],[1,-4,1],[0,1,0]])
laplacian2=np.array([[1,1,1],[1,-8,1],[1,1,1]])
laplacian3=np.array([[0,-1,0],[-1,4,-1],[0,-1,0]])
laplacian4=np.array([[-1,-1,-1],[-1,+8,-1],[-1,-1,-1]])
image_laplacian1=cv2.filter2D(src=image, kernel=laplacian1, ddepth=-1)
image_laplacian2=cv2.filter2D(src=image, kernel=laplacian2, ddepth=-1)
image_laplacian3=cv2.filter2D(src=image, kernel=laplacian3, ddepth=-1)
image_laplacian4=cv2.filter2D(src=image, kernel=laplacian4, ddepth=-1)
image_sharping_1=np.clip(image-0.5*image_laplacian1, 0, 255)
image_sharping_2=np.clip(image-0.5*image_laplacian2, 0, 255)
image_sharping_3=np.clip(image+1.2*image_laplacian3, 0, 255)
image_sharping_4=np.clip(image+1.2*image_laplacian4, 0, 255)
plt.figure(figsize=(30,15))
plt.subplot(231)
plt.imshow(image, cmap='gray')
plt.title("original image")
plt.subplot(232)
plt.imshow(image_sharping_1, cmap='gray')
plt.title("[0,1,0],[1,-4,1],[0,1,0]")
plt.subplot(233)
plt.imshow(image_sharping_2, cmap='gray')
plt.title("[1,1,1],[1,-8,1],[1,1,1]")
plt.subplot(234)
plt.imshow(image_sharping_3, cmap='gray')
plt.title("[0,-1,0],[-1,4,-1],[0,-1,0]")
plt.subplot(235)
plt.imshow(image_sharping_4, cmap='gray')
plt.title("[-1,-1,-1],[-1,+8,-1],[-1,-1,-1]")
plt.show()


# Unsharp
k = (1/(3*3))*np.ones((3,3)) 
smooth_filter_image=cv2.filter2D(src=image, kernel=k, ddepth=-1)
result_image1=image-smooth_filter_image
image_unsharping_1=np.clip(image+0.1*result_image1,0,255)
image_unsharping_2=np.clip(image+0.2*result_image1,0,255)
image_unsharping_3=np.clip(image+0.3*result_image1,0,255)
image_unsharping_4=np.clip(image+0.4*result_image1,0,255)

plt.figure(figsize=(30,15))
plt.subplot(231)
plt.imshow(image, cmap='gray')
plt.title("original image")
plt.subplot(232)
plt.imshow(image_unsharping_1, cmap='gray')
plt.title("3*3 filter , k=0.1")
plt.subplot(233)
plt.imshow(image_unsharping_2, cmap='gray')
plt.title("3*3 filter , k=0.2")
plt.subplot(234)
plt.imshow(image_unsharping_3, cmap='gray')
plt.title("3*3 filter , k=0.3")
plt.subplot(235)
plt.imshow(image_unsharping_4, cmap='gray')
plt.title("3*3 filter , k=0.4")
plt.show()
